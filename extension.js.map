{
  "version": 3,
  "sources": ["lib/core/Store.js", "lib/logic/constants.js", "lib/core/BaseExtension.js", "lib/logic/NoteModal.js", "lib/logic/Note.js", "lib/logic/Extension.js", "lib/core/DevExtension.js", "lib/index.js"],
  "sourcesContent": ["/* eslint-disable gjs/no-spread */\n/* eslint-disable gjs/no-js-class */\nconst { GLib, Gio } = imports.gi;\n\nconst ExtensionUtils = imports.misc.extensionUtils;\nconst Me = ExtensionUtils.getCurrentExtension();\n\nexport const LOG_LEVELS = {\n  DEBUG: 0,\n  INFO: 1,\n  WARN: 2,\n  ERROR: 3\n};\n\nclass Store {\n  constructor() {\n    this.store = {\n      state: {},\n      config: {}\n    };\n    this.id = null;\n    this.logLevel = LOG_LEVELS.ERROR;\n  }\n\n  log(...args) {\n    let str = args\n      .map((arg) => {\n        if (typeof arg === 'object') {\n          return `\\n${JSON.stringify(arg, null, 2)}`;\n        }\n\n        return arg;\n      })\n      .join(', ');\n\n    log(`${Me.metadata.name}: ${str}`);\n  }\n\n  logDebug(...args) {\n    if (this.logLevel <= LOG_LEVELS.DEBUG) {\n      this.logDebug(...args);\n    }\n  }\n\n  logInfo(...args) {\n    if (this.logLevel <= LOG_LEVELS.INFO) {\n      this.logDebug(...args);\n    }\n  }\n\n  logWarn(...args) {\n    if (this.logLevel <= LOG_LEVELS.WARN) {\n      this.logDebug(...args);\n    }\n  }\n\n  logError(...args) {\n    if (this.logLevel <= LOG_LEVELS.ERROR) {\n      this.logDebug(...args);\n    }\n  }\n\n  enable(id) {\n    this.id = id;\n\n    // Get schema\n    this.schema = Gio.SettingsSchemaSource.new_from_directory(\n      Me.dir.get_child('schemas').get_path(),\n      Gio.SettingsSchemaSource.get_default(),\n      false\n    );\n\n    // Get settings\n    this.settings = new Gio.Settings({\n      settings_schema: this.schema.lookup(this.id, true)\n    });\n\n    this.loadSettings();\n  }\n\n  disable() {\n    this.saveSettings();\n  }\n\n  loadSettings() {\n    let settings = this.settings.get_value('store');\n    if (!settings || settings instanceof GLib.Variant === false) {\n      return null;\n    }\n\n    let unpacked = settings.deep_unpack();\n\n    this.logDebug('loadSettings', 'store', unpacked);\n\n    this.store = JSON.parse(unpacked);\n  }\n\n  saveSettings() {\n    this.logDebug('saveSettings', this.store);\n    const settings = new GLib.Variant('s', JSON.stringify(this.store));\n    this.settings.set_value('store', settings);\n  }\n\n  setState(key, value) {\n    this.logDebug('setState', key, value);\n    this.store.state = this.store.state || {};\n    this.store.state[key] = value;\n    this.saveSettings();\n  }\n\n  getState(key) {\n    this.logDebug('getState', key, this.store.state && this.store.state[key]);\n    return this.store.state ? this.store.state[key] : null;\n  }\n\n  setConfig(key, value) {\n    this.logDebug('setConfig', key, value);\n    this.store.config = this.store.config || {};\n    this.store.config[key] = value;\n    this.saveSettings();\n  }\n\n  getConfig(key) {\n    this.logDebug(\n      'getConfig',\n      key,\n      this.store.config && this.store.config[key]\n    );\n    return this.store.config ? this.store.config[key] : null;\n  }\n}\n\nexport default new Store();\n", "export const NOTE_TYPES = {\n  TEXT: 'text',\n  TASKS: 'tasks',\n  IMAGE: 'image'\n};\n\nexport const NOTE_MODAL = {\n  maxWidth: 640,\n  maxHeight: Math.abs((640 / 16) * 9)\n};\n\nexport const COLOR_TYPES = {\n  PRIMARY: 'primary',\n  ACCENT: 'accent',\n  SUCCESS: 'success',\n  INFO: 'info',\n  WARNING: 'warning',\n  DANGER: 'danger',\n  DEFAULT: 'default'\n};\n\nexport const COLORS = {\n  primary: '#3244ad',\n  accent: '#953ca5',\n  success: '#2ab7a9',\n  info: '#00c3e0',\n  warning: '#bf7921',\n  danger: '#bb2626',\n  default: '#646c8a'\n};\n\n/*\n  A note is an object with the following properties:\n  {\n    title: string,\n    type: string (text, tasks, image, video),\n    content: string | tasks array,\n    color: string (primary | default | success | info | warning)\n  }\n\n  A task is an object with the following properties:\n  {\n    title: string,\n    status: string (todo | doing | done)\n    isDone: boolean\n  }\n*/\n\nexport const DEFAULT_NOTES = [\n  // Text note\n  {\n    title: 'Note 1',\n    type: 'text',\n    content: 'This is a text note',\n    color: 'primary'\n  },\n  // Tasks note\n  {\n    title: 'Note 2',\n    type: 'tasks',\n    content: [\n      {\n        title: 'Task 1',\n        status: 'todo',\n        isDone: false\n      },\n      {\n        title: 'Task 2',\n        status: 'doing',\n        isDone: false\n      },\n      {\n        title: 'Task 3',\n        status: 'done',\n        isDone: true\n      }\n    ],\n    color: 'default'\n  },\n  // Image note\n  {\n    title: 'Note 3',\n    type: 'image',\n    content: 'https://picsum.photos/200/300',\n    color: 'success'\n  }\n];\n\nexport const DEFAULT_NOTES_CONFIG = {\n  maxWidth: 240,\n  items: 5\n};\n", "/* eslint-disable no-underscore-dangle */\n/* eslint-disable gjs/no-super */\n/* eslint-disable gjs/no-js-class */\n/* eslint-disable no-unused-vars */\n'use strict';\n\nimport Store from './Store';\n\nconst { St, Clutter } = imports.gi;\nconst { main, panelMenu } = imports.ui;\nconst ExtensionUtils = imports.misc.extensionUtils;\n\nconst Me = ExtensionUtils.getCurrentExtension();\n\nclass Extension {\n  /*\n  panelButton: null,\n  label: null,\n  */\n\n  constructor(id) {\n    this.id = id;\n    this.panelButton = null;\n    this.label = null;\n  }\n\n  enable() {\n    // Create panel button\n    const panelButton = new panelMenu.Button(1, Me.metadata.name);\n    panelButton.set_x_expand(true);\n    panelButton.set_can_focus(true);\n    panelButton.set_reactive(true);\n    panelButton.state = 0;\n    panelButton.states = [\n      {\n        state: 0,\n        label: '...'\n      }\n    ];\n\n    let label = new St.Label({\n      text: '...',\n      opacity: 150,\n      y_align: Clutter.ActorAlign.CENTER\n    });\n    panelButton.add_child(label);\n    panelButton.label = label;\n\n    panelButton.updateLabel = (value) =>\n      panelButton.label.set_text(value || '...');\n\n    panelButton.setStates = (states) => {\n      if (!Array.isArray(states)) {\n        throw new Error('States must be an array');\n      }\n\n      for (let obj of states) {\n        if (\n          typeof obj !== 'object' ||\n          obj === null ||\n          'state' in obj === false ||\n          'label' in obj === false\n        ) {\n          throw new Error(\n            'State item must be an object with state and label properties'\n          );\n        }\n      }\n\n      panelButton.states = states;\n    };\n\n    panelButton.setState = (state) => {\n      let stateObj = panelButton.states.find((s) => s.state === state);\n      if (!stateObj) {\n        throw new Error(`State ${state} not found`);\n      }\n      panelButton.state = state;\n      panelButton.updateLabel(stateObj.label);\n    };\n\n    panelButton.nextState = () => {\n      let stateIndex = panelButton.states.findIndex(\n        (s) => s.state === panelButton.state\n      );\n\n      if (stateIndex === -1) {\n        throw new Error(`Current state ${panelButton.state} not found`);\n      }\n\n      let nextStateIndex = stateIndex + 1;\n      if (nextStateIndex >= panelButton.states.length) {\n        nextStateIndex = 0;\n      }\n\n      panelButton.setState(panelButton.states[nextStateIndex].state);\n    };\n\n    this.panelButton = panelButton;\n\n    main.panel.addToStatusArea(\n      `${Me.metadata.name} Indicator`,\n      this.panelButton,\n      1,\n      'center'\n    );\n\n    Store.enable(this.id);\n  }\n\n  disable() {\n    this.panelButton.destroy();\n    Store.disable();\n  }\n}\n\nexport default Extension;\n", "/* eslint-disable gjs/no-js-class */\n'use strict';\n\nimport { COLORS, NOTE_MODAL, NOTE_TYPES } from './constants';\n\nimport Store from '../core/Store';\n\nconst { St, Clutter, Pango } = imports.gi;\nconst { modalDialog: ModalDialog } = imports.ui;\n\nclass NoteModal {\n  constructor({ id, onUpdate }) {\n    const notes = Store.getState('notes') || [];\n    const note = notes[id];\n\n    if (!note) {\n      throw new Error('Note not found');\n    }\n\n    this.title = note.title;\n    this.type = note.type;\n    this.content = note.content;\n    this.color = note.color;\n    this.onUpdate = onUpdate;\n    this.id = id;\n\n    this.widget = null;\n\n    this.createWidget();\n\n    this.constructType();\n  }\n\n  constructType() {\n    switch (this.type) {\n      case NOTE_TYPES.TEXT:\n        this.setTextNote();\n        break;\n      case NOTE_TYPES.TASKS:\n        this.setTasksNote();\n        break;\n      case NOTE_TYPES.IMAGE:\n        this.setImageNote();\n        break;\n    }\n  }\n\n  // The widget is a ModalDialog that will be used as the content of the note\n  // It will show an area of the widget, with scrollbars if needed that will be used to\n  // see the contents of the note\n  // At the bottom of the widget, there should be a button for every color in the config\n  // And three buttons to save, delete and close the modal\n  createWidget() {\n    const widget = new ModalDialog.ModalDialog({});\n\n    global.display.connect('workareas-changed', () => widget.queue_relayout());\n\n    widget.setButtons([\n      {\n        label: 'Save',\n        action: () => this.save(),\n        key: Clutter.KEY_S\n      },\n      {\n        label: 'Delete',\n        action: () => this.delete()\n      },\n      {\n        label: 'Close',\n        action: () => this.close(),\n        key: Clutter.KEY_Escape\n      }\n    ]);\n\n    // Remove the padding of the contentLayout\n    widget.contentLayout.style_class = 'note-content-layout';\n    widget.contentLayout.style = `background-color: ${\n      COLORS[this.color]\n    };border-radius: 5px;`;\n    widget.contentLayout.width = NOTE_MODAL.maxWidth;\n    widget.contentLayout.height = NOTE_MODAL.maxHeight;\n\n    this.widget = widget;\n\n    widget.open();\n  }\n\n  setTitle() {\n    // Add the title\n    const titleBox = new St.BoxLayout({\n      vertical: false,\n      clip_to_allocation: true,\n      reactive: true,\n      style: 'background-color: rgba(0, 0, 0, 0.2);border-radius: 5px 5px 0 0;',\n      x_align: Clutter.ActorAlign.FILL\n    });\n\n    const title = new St.Entry({\n      text: this.title,\n      clip_to_allocation: true,\n      reactive: true,\n      style:\n        'font-weight: bold; font-size: 14px;color: #fff; padding: 5px; background-color: transparent; outline: none;border: none;',\n      x_expand: true\n    });\n\n    title.clutter_text.connect('text-changed', () => {\n      this.title = title.get_text();\n    });\n\n    titleBox.connect('button-press-event', () => {\n      title.grab_key_focus();\n    });\n\n    titleBox.add_child(title);\n    this.widget.contentLayout.add_child(titleBox);\n  }\n\n  setColorButtons() {\n    const colorButtons = new St.BoxLayout({\n      vertical: false,\n      clip_to_allocation: true,\n      reactive: true,\n      style: 'padding: 5px;',\n      x_align: Clutter.ActorAlign.END\n    });\n\n    Object.keys(COLORS).forEach((colorName) => {\n      const color = COLORS[colorName];\n      let style = `background-color: ${color};border-radius: 5px; box-shadow: 0 0 5px rgba(0, 0, 0, 0.5); margin: 0 5px;`;\n      if (colorName === this.color) {\n        style += 'border: 2px solid #fff;';\n      }\n      const button = new St.Button({\n        style,\n        width: 30,\n        height: 30,\n        x_align: Clutter.ActorAlign.CENTER,\n        y_align: Clutter.ActorAlign.CENTER\n      });\n\n      button.connect('clicked', () => {\n        this.color = colorName;\n        this.widget.contentLayout.style = `background-color: ${color};border-radius: 5px;`;\n        this.update();\n      });\n\n      colorButtons.add_child(button);\n    });\n\n    this.widget.contentLayout.add_child(colorButtons);\n  }\n\n  setTextNote() {\n    if (this.widget) {\n      this.widget.contentLayout.destroy_all_children();\n    }\n\n    // Add the title\n    this.setTitle();\n\n    // Add the editable text area to the noteLayout\n    const textArea = new St.BoxLayout({\n      vertical: true,\n      clip_to_allocation: true,\n      reactive: true,\n      style: 'padding: 5px;',\n      x_align: Clutter.ActorAlign.FILL,\n      y_align: Clutter.ActorAlign.FILL,\n      x_expand: true,\n      y_expand: true\n    });\n\n    const text = new St.Entry({\n      text: this.content,\n      clip_to_allocation: true,\n      reactive: true,\n      style:\n        'font-size: 14px;color: #fff; padding: 5px; background-color: transparent; outline: none;border: none;',\n      x_expand: true\n    });\n\n    let clutterText = text.clutter_text;\n    clutterText.set_single_line_mode(false);\n    clutterText.set_activatable(false);\n    clutterText.set_line_wrap(true);\n    clutterText.set_line_wrap_mode(Pango.WrapMode.WORD_CHAR);\n\n    clutterText.connect('text-changed', () => {\n      this.content = text.get_text();\n    });\n\n    textArea.add_child(text);\n\n    textArea.connect('button-press-event', () => {\n      text.grab_key_focus();\n    });\n\n    this.widget.contentLayout.add_child(textArea);\n\n    // Add the color buttons\n    this.setColorButtons();\n\n    this.widget.open();\n  }\n\n  setTasksNote() {}\n\n  setImageNote() {}\n\n  save() {\n    this.update();\n\n    let notes = Store.getState('notes');\n    notes[this.id] = {\n      title: this.title,\n      type: this.type,\n      content: this.content,\n      color: this.color\n    };\n    Store.setState('notes', notes);\n\n    this.widget.close();\n    if (typeof this.onUpdate === 'function') {\n      this.onUpdate();\n    }\n  }\n  delete() {\n    let notes = Store.getState('notes');\n    notes.splice(this.id, 1);\n    Store.setState('notes', notes);\n    this.widget.close();\n    if (typeof this.onUpdate === 'function') {\n      this.onUpdate();\n    }\n  }\n  close() {\n    this.widget.close();\n  }\n  update() {\n    this.constructType();\n  }\n}\n\nexport default NoteModal;\n", "/* eslint-disable gjs/no-js-class */\n'use strict';\n\nimport { COLORS, NOTE_TYPES } from './constants';\n\nimport NoteModal from './NoteModal';\nimport Store from '../core/Store';\n\nconst { St, Clutter } = imports.gi;\nconst { util: Util } = imports.misc;\n\nclass Note {\n  constructor({ id, width, height, onUpdate }) {\n    const notes = Store.getState('notes') || [];\n    const note = notes[id];\n\n    if (!note) {\n      throw new Error('Note not found');\n    }\n\n    this.box = new St.BoxLayout({\n      vertical: true,\n      width,\n      height,\n      clip_to_allocation: true,\n      reactive: true,\n      style: `background-color: ${\n        COLORS[note.color]\n      };border-radius: 5px;margin-right: 5px;`\n    });\n\n    this.id = id;\n    this.title = note.title;\n    this.type = note.type;\n    this.content = note.content;\n    this.color = note.color;\n    this.width = width;\n    this.height = height;\n    this.onUpdate = onUpdate;\n\n    this.constructType();\n  }\n\n  setTitle(prefix = '') {\n    const titleText = new St.Label({\n      text: `${prefix} ${this.title}`.trim(),\n      clip_to_allocation: true,\n      reactive: true,\n      style:\n        'font-weight: bold;font-size: 14px;color: #fff; padding: 5px; background-color: rgba(0, 0, 0, 0.2);border-radius: 5px 5px 0 0;'\n    });\n\n    this.box.add_child(titleText);\n  }\n\n  constructType() {\n    switch (this.type) {\n      case NOTE_TYPES.TEXT:\n        this.setTextNote();\n        break;\n      case NOTE_TYPES.TASKS:\n        this.setTasksNote();\n        break;\n      case NOTE_TYPES.IMAGE:\n        this.setImageNote();\n        break;\n    }\n  }\n\n  // Creates a text note\n  // When double clicked, the note is opened in a popup window\n  setTextNote() {\n    this.setTitle();\n\n    const contentText = new St.Label({\n      text: this.content,\n      clip_to_allocation: true,\n      reactive: true,\n      style: 'padding: 5px;'\n    });\n\n    // When double clicked, the note is opened in a popup window\n    this.box.connect('button-press-event', () => {\n      Store.logInfo('Double clicked');\n      new NoteModal({\n        id: this.id,\n        onUpdate: () => this.update()\n      });\n    });\n\n    this.box.add_child(contentText);\n  }\n\n  // Creates a task box\n  // The title is aligned to the left\n  // The status is aligned to the center\n  // And the done button is aligned to the right\n  getTaskBox({ title, onClick }) {\n    const taskBox = new St.BoxLayout({\n      vertical: false,\n      clip_to_allocation: true,\n      reactive: true,\n      style: 'padding: 2px;'\n    });\n\n    const taskTitle = new St.Label({\n      text: title,\n      clip_to_allocation: true,\n      reactive: true,\n      x_align: Clutter.ActorAlign.START,\n      x_expand: true\n    });\n\n    const taskSwitch = new St.Button({\n      reactive: true,\n      can_focus: true,\n      x_align: Clutter.ActorAlign.END,\n      y_align: Clutter.ActorAlign.CENTER,\n      child: new St.Label({\n        text: 'Done',\n        style: 'padding: 5px;font-size: 10px;'\n      }),\n      style: 'border-radius: 5px; background-color: rgba(0, 0, 0, 0.2);'\n    });\n\n    taskSwitch.connect('clicked', onClick);\n    // Change background of the button when the mouse is over it\n    taskSwitch.connect('enter-event', () => {\n      taskSwitch.set_style(\n        'border-radius: 5px; background-color: rgba(0, 0, 0, 0.4);'\n      );\n    });\n    taskSwitch.connect('leave-event', () => {\n      taskSwitch.set_style(\n        'border-radius: 5px; background-color: rgba(0, 0, 0, 0.2);'\n      );\n    });\n\n    taskBox.add_child(taskTitle);\n    taskBox.add_child(taskSwitch);\n\n    return taskBox;\n  }\n\n  setTasksNote() {\n    let doneTasks = this.content.reduce((acc, task) => {\n      if (task.isDone) {\n        acc++;\n      }\n      return acc;\n    }, 0);\n\n    this.setTitle(`(${doneTasks}/${this.content.length})`);\n\n    const tasksBox = new St.BoxLayout({\n      vertical: true,\n      clip_to_allocation: true,\n      reactive: true,\n      style: 'padding: 5px;'\n    });\n\n    // Show only the first two undone tasks\n    let items = 0;\n\n    // Crete a task box for each task and add them a switch button to mark them as done\n    for (let i = 0; i < this.content.length; i++) {\n      if (items === 2) {\n        break;\n      }\n\n      if (!this.content[i].isDone) {\n        const { title, status, isDone } = this.content[i];\n\n        let taskBox = this.getTaskBox({\n          title,\n          status,\n          isDone,\n          onClick: () => {\n            this.content[taskBox.idx].isDone =\n              !this.content[taskBox.idx].isDone;\n            this.update();\n          }\n        });\n        taskBox.idx = i;\n\n        tasksBox.add_child(taskBox);\n        items += 1;\n      }\n    }\n\n    // If there are no undone tasks, show a message\n    if (items === 0) {\n      const noTasksText = new St.Label({\n        text: 'No tasks to do!',\n        clip_to_allocation: true,\n        reactive: true,\n        style: 'padding: 5px;',\n        opacity: 150,\n        x_align: Clutter.ActorAlign.CENTER\n      });\n\n      tasksBox.add_child(noTasksText);\n    }\n\n    this.box.add_child(tasksBox);\n  }\n\n  setImageNote() {\n    let style = `background-size: cover;background-image: url(\"${this.content}\");border-radius: 5px;`;\n    const imageBox = new St.BoxLayout({\n      clip_to_allocation: true,\n      reactive: true,\n      can_focus: true,\n      style,\n      x_expand: true,\n      y_expand: true\n    });\n\n    const imageButton = new St.Button({\n      clip_to_allocation: true,\n      reactive: true,\n      can_focus: true,\n      style: 'border-radius: 5px;',\n      x_expand: true,\n      y_expand: true\n    });\n\n    // Change background of the button when the mouse is over it\n    imageButton.connect('enter-event', () => {\n      imageButton.set_style(\n        `border-radius: 5px;background-color: rgba(0, 0, 0, 0.2);`\n      );\n    });\n    imageButton.connect('leave-event', () => {\n      imageButton.set_style(\n        `border-radius: 5px;background-color: transparent;`\n      );\n    });\n\n    // Open the image in the default image viewer\n    imageButton.connect('clicked', () => {\n      Util.spawn(['xdg-open', this.content]);\n    });\n\n    imageBox.add_child(imageButton);\n    this.box.add_child(imageBox);\n  }\n\n  update() {\n    if (typeof this.onUpdate === 'function' && this.onUpdate() === false) {\n      return;\n    }\n\n    // Remove all children from the box and re-create the note\n    this.box.destroy_all_children();\n    this.constructType();\n  }\n}\n\nexport default Note;\n", "/* eslint-disable no-underscore-dangle */\n/* eslint-disable gjs/no-super */\n/* eslint-disable gjs/no-js-class */\n'use strict';\n\nimport {\n  COLORS,\n  COLOR_TYPES,\n  DEFAULT_NOTES,\n  DEFAULT_NOTES_CONFIG\n} from './constants';\n\nimport BaseExtension from '../core/BaseExtension';\nimport Note from './Note';\nimport Store from '../core/Store';\n\nconst {\n  main: Main,\n  ctrlAltTab: CtrlAltTab,\n  modalDialog: ModalDialog\n} = imports.ui;\nconst { St, Clutter } = imports.gi;\n\nclass Extension extends BaseExtension {\n  constructor(id) {\n    super(id);\n    this.widget = null;\n  }\n\n  enable() {\n    super.enable();\n\n    // Inits the config and state of the extension\n    this.initConfigAndState();\n\n    // Inits the panel button behavior to toggle the notes box\n    this.initPanelButton();\n\n    // Create a new St.Widget\n    this.widget = new St.Widget({\n      width: global.screen_width,\n      height: 100,\n      clip_to_allocation: true,\n      reactive: true\n    });\n\n    // Prevent maximized windows from drawing over the widget\n    this.widget.set_offscreen_redirect(Clutter.OffscreenRedirect.ALWAYS);\n\n    // Add the widget to the top of the screen\n    Main.layoutManager.panelBox.add(this.widget);\n    Main.ctrlAltTabManager.addGroup(\n      this.widget,\n      'Simple Notes',\n      'focus-top-bar-symbolic',\n      { sortGroup: CtrlAltTab.SortGroup.TOP }\n    );\n    global.display.connect('workareas-changed', () =>\n      this.widget.queue_relayout()\n    );\n\n    // init the notes box\n    this.initNotesBox();\n  }\n\n  disable() {\n    if (this.widget) {\n      this.widget.destroy();\n    }\n  }\n\n  initConfigAndState() {\n    let isHidden = Store.getConfig('isHidden');\n    if (isHidden === undefined || isHidden === null) {\n      Store.setConfig('isHidden', false);\n    }\n\n    let notesConfig = Store.getConfig('notes');\n    if (!notesConfig) {\n      Store.setConfig('notes', DEFAULT_NOTES_CONFIG);\n    }\n\n    let notes = Store.getState('notes');\n    if (notes) {\n      Store.setState('notes', DEFAULT_NOTES);\n    }\n  }\n\n  initPanelButton() {\n    // TODO: Add a state to the panel button to show notes on button hover\n    this.panelButton.setStates([\n      {\n        state: true,\n        label: 'Show notes'\n      },\n      {\n        state: false,\n        label: 'Hide notes'\n      }\n    ]);\n    this.panelButton.setState(Store.getConfig('isHidden'));\n    this.panelButton.connect('button-press-event', () => {\n      let isHidden = !Store.getConfig('isHidden');\n      Store.setConfig('isHidden', isHidden);\n      this.panelButton.setState(isHidden);\n      this.showNotes();\n    });\n  }\n\n  initNotesBox() {\n    // Create a box that will contain all the notes\n    this.notesBox = new St.BoxLayout({\n      vertical: false,\n      width: global.screen_width,\n      clip_to_allocation: true,\n      reactive: true\n    });\n\n    // Add the notes box to the widget\n    this.widget.add_child(this.notesBox);\n\n    this.showNotes();\n  }\n\n  showNotes() {\n    // Remove all the notes from the notes box\n    this.notesBox.destroy_all_children();\n\n    let shouldBeHidden = Store.getConfig('isHidden');\n\n    if (shouldBeHidden) {\n      // Hide the widget if it's not hidden\n      if (this.widget.visible) {\n        this.widget.hide();\n      }\n      return;\n    }\n\n    // Show the widget if it's hidden\n    if (!this.widget.visible) {\n      this.widget.show();\n    }\n\n    let notes = Store.getState('notes');\n    let { notesWidth, notesHeight } = this.getWidthAndHeight();\n\n    if (this.widget.height !== notesHeight) {\n      this.widget.set_height(notesHeight);\n      this.widget.queue_relayout();\n    }\n\n    let maxNotes = Math.abs(global.screen_width / notesWidth) - 1;\n    maxNotes = 0;\n\n    for (let i = 0; i < maxNotes; i++) {\n      let note = notes[i];\n      if (!note) {\n        break;\n      }\n\n      let instance = new Note({\n        id: i,\n        width: notesWidth,\n        height: notesHeight,\n        onUpdate: () => {\n          Store.logInfo('Note updated');\n          this.showNotes();\n          return false;\n        }\n      });\n\n      this.notesBox.add_child(instance.box);\n    }\n  }\n\n  getWidthAndHeight() {\n    let notesConfig = Store.getConfig('notes');\n\n    let notesWidth = Math.abs(global.screen_width / notesConfig.items);\n    if (notesWidth > notesConfig.maxWidth) {\n      notesWidth = notesConfig.maxWidth;\n    }\n\n    let notesHeight = Math.abs((notesWidth / 16) * 9);\n\n    return { notesWidth, notesHeight };\n  }\n\n  // Show a modal asking for the type of note to add\n  showAddNoteModal() {\n    const modal = new ModalDialog.ModalDialog({});\n\n    // Set the title to Select note type\n    let title = new St.Label({\n      text: 'Select note type',\n      x_align: Clutter.ActorAlign.CENTER,\n      y_align: Clutter.ActorAlign.CENTER,\n      x_expand: true\n    });\n\n    modal.contentLayout.add_child(title);\n\n    modal.setButtons([\n      {\n        label: 'Text',\n        action: () => {\n          modal.close();\n          this.showAddTextNoteModal();\n        }\n      },\n      {\n        label: 'Image',\n        action: () => {\n          modal.close();\n          this.showAddImageNoteModal();\n        }\n      },\n      {\n        label: 'Tasks',\n        action: () => {\n          modal.close();\n          this.showAddTasksNoteModal();\n        }\n      },\n      {\n        label: 'Cancel',\n        action: () => {\n          modal.close();\n        }\n      }\n    ]);\n\n    modal.open();\n  }\n}\n\nexport default Extension;\n", "/* eslint-disable no-underscore-dangle */\n/* eslint-disable gjs/no-super */\n/* eslint-disable gjs/no-js-class */\n/* eslint-disable no-unused-vars */\n'use strict';\n\nimport Store, { LOG_LEVELS } from './Store';\n\nimport Extension from '../logic/Extension';\n\nconst { main, popupMenu } = imports.ui;\n\nclass Dev extends Extension {\n  constructor(id) {\n    // eslint-disable-next-line gjs/no-spread\n    super(id);\n    this.unsafeMenuItem = null;\n  }\n\n  enable() {\n    global.context.unsafe_mode = true;\n    // create switch menu item which toggles unsafe mode\n    this.unsafeMenuItem = new popupMenu.PopupSwitchMenuItem(\n      'Unsafe Mode',\n      global.context.unsafe_mode\n    );\n    this.unsafeMenuItem.connect('toggled', () => {\n      global.context.unsafe_mode = this.unsafeMenuItem.state;\n    });\n\n    // insert it after nightLight in status bar menu\n    let insertAfter = main.panel.statusArea.aggregateMenu._nightLight.menu;\n    let pos = main.panel.statusArea.aggregateMenu.menu\n      ._getMenuItems()\n      .findIndex((menu) => menu === insertAfter);\n    main.panel.statusArea.aggregateMenu.menu.addMenuItem(\n      this.unsafeMenuItem,\n      pos + 1\n    );\n\n    // listen for external changes to unsafe mode\n    global.context.connect('notify::unsafe-mode', () => {\n      if (this.unsafeMenuItem != null) {\n        this.unsafeMenuItem.setToggleState(global.context.unsafe_mode);\n      }\n    });\n\n    super.enable();\n\n    Store.logLevel = LOG_LEVELS.INFO;\n  }\n\n  disable() {\n    global.context.unsafe_mode = false;\n    this.unsafeMenuItem.destroy();\n    this.unsafeMenuItem = null;\n    super.disable();\n  }\n}\n\nexport default Dev;\n", "/* eslint-disable no-underscore-dangle */\n/* eslint-disable gjs/no-super */\n/* eslint-disable gjs/no-js-class */\n/* eslint-disable no-unused-vars */\n'use strict';\n\nimport Dev from './core/DevExtension';\nimport Extension from './logic/Extension';\n\nconst isDev = true;\nconst id = 'org.gnome.shell.extensions.side-notes';\n\nfunction init() {\n  try {\n    if (isDev) {\n      return new Dev(id);\n    }\n\n    return new Extension(id);\n  } catch (error) {\n    let stack = error.stack\n      .split('\\n')\n      .map((line) => line.replace(/^\\.*masquerade-circus.net\\//, ''));\n    error.stack = stack.join('\\n');\n    logError(error);\n  }\n}\n"],
  "mappings": "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",
  "names": ["id", "ExtensionUtils", "Me", "id", "St", "Clutter", "id", "St", "Clutter", "id", "ModalDialog", "St", "Clutter", "Extension", "id", "main", "id"]
}
